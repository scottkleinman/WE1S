{% macro date() %}
"date": {
    "fields": {
        "start": {
            // Enter today's date in the datepicker; use YYYY-DD-MM format; allow manual entry
            "type": "date",
            "picker": {
                "format": "YYYY-MM-DD",
                "useCurrent": true
            },
            "event": {
                "change": function () {
                    var end = new Date($('input[name="end"]').val());
                    console.log(end);
                }
            }
        },
        "end": {
            // Enter today's date in the datepicker; use YYYY-DD-MM format; allow manual entry
            "type": "date",
            "picker": {
                "format": "YYYY-MM-DD",
                "useCurrent": true
            }
        }
    }
}
{% endmacro %}

{% macro description() %}
"description": {
    "type": "ckeditor",
    "ckeditor": {
        "toolbar": [
            ['Bold', 'Italic', 'Underline', 'StrikeThrough', '-', 'Undo', 'Redo', '-', 'Cut', 'Copy', 'Paste', 'Find', 'Replace', '-', 'Outdent', 'Indent', '-', 'Print'], '/', ['NumberedList', 'BulletedList', '-', 'JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock'],
            ['Image', 'Table', '-', 'Link', 'Flash', 'TextColor', 'BGColor', 'Source']
        ]
    }
}
{% endmacro %}

{% macro notes() %}
"notes": {
    // Change add button text to "Add Note"
    "toolbar": {
        "showLabels": true,
        "actions": [
            {"label": "Add Note", "action": "add"}
        ]
    },
    // Show full-sized buttons with labels in actionbar
    "actionbar": {
        "showLabels": true,
        "actions": [
            {"label": "Add Note", "action": "add"},
            {"label": "Delete Note", "action": "remove"},
            {"label": "Move Up", "action": "up"},
            {"label": "Move Down", "action": "down"}
        ]
    }
}
{% endmacro %}

{% macro path(root) %}
"path": {
    // Change comma to slash at any keystroke
    "onFieldKeyup": function (e) {
        var v = this.getValue();
        v = v.replace(/,/g, "/");
        $('input[name="path"]').val(v);
    },
    "events": {
        // On change, ensure that the string begins "{{ root }}"
        "change": function () {
            var root = "{{ root }}";
            var v = this.getValue();
            if (v.substring(0, root.length) != root) {
                v = root + v;
                $('input[name="path"]').val(v)
            }
            if (v.substring(-1) != "/") {
                $('input[name="path"]').val(v + "/")
            }
        }
    }
}
{% endmacro %}

{% macro mimetype() %}
"mimeType": {
    "optionLabels": [".3dm", ".3dmf", ".a", ".aab", ".aam", ".aas", ".abc", ".acgi", ".afl", ".ai", ".aif", ".aif", ".aifc", ".aifc", ".aiff", ".aiff", ".aim", ".aip", ".ani", ".aos", ".aps", ".arc", ".arj", ".arj", ".art", ".asf", ".asm", ".asp", ".asx", ".asx", ".asx", ".au", ".au", ".avi", ".avi", ".avi", ".avi", ".avs", ".bcpio", ".bin", ".bin", ".bin", ".bin", ".bin", ".bm", ".bmp", ".bmp", ".boo", ".book", ".boz", ".bsh", ".bz", ".bz2", ".c", ".c", ".c++", ".cat", ".cc", ".cc", ".ccad", ".cco", ".cdf", ".cdf", ".cdf", ".cer", ".cer", ".cha", ".chat", ".class", ".class", ".class", ".com", ".com", ".conf", ".cpio", ".cpp", ".cpt", ".cpt", ".cpt", ".crl", ".crl", ".crt", ".crt", ".crt", ".csh", ".csh", ".css", ".css", ".cxx", ".dcr", ".deepv", ".def", ".der", ".dif", ".dir", ".dl", ".dl", ".doc", ".dot", ".dp", ".drw", ".dump", ".dv", ".dvi", ".dwf", ".dwf", ".dwg", ".dwg", ".dwg", ".dxf", ".dxf", ".dxf", ".dxr", ".el", ".elc", ".elc", ".env", ".eps", ".es", ".etx", ".evy", ".evy", ".exe", ".f", ".f", ".f77", ".f90", ".f90", ".fdf", ".fif", ".fif", ".fli", ".fli", ".flo", ".flx", ".fmf", ".for", ".for", ".fpx", ".fpx", ".frl", ".funk", ".g", ".g3", ".gif", ".gl", ".gl", ".gsd", ".gsm", ".gsp", ".gss", ".gtar", ".gz", ".gz", ".gzip", ".gzip", ".h", ".h", ".hdf", ".help", ".hgl", ".hh", ".hh", ".hlb", ".hlp", ".hlp", ".hlp", ".hpg", ".hpgl", ".hqx", ".hqx", ".hqx", ".hqx", ".hqx", ".hqx", ".hta", ".htc", ".htm", ".html", ".htmls", ".htt", ".htx", ".ice", ".ico", ".idc", ".ief", ".iefs", ".iges", ".iges", ".igs", ".igs", ".ima", ".imap", ".inf", ".ins", ".ip", ".isu", ".it", ".iv", ".ivr", ".ivy", ".jam", ".jav", ".jav", ".java", ".java", ".jcm", ".jfif", ".jfif", ".jfif-tbnl", ".jpe", ".jpe", ".jpeg", ".jpeg", ".jpg", ".jpg", ".jps", ".js", ".jut", ".kar", ".kar", ".ksh", ".ksh", ".la", ".la", ".lam", ".latex", ".lha", ".lha", ".lha", ".lhx", ".list", ".lma", ".lma", ".log", ".lsp", ".lsp", ".lst", ".lsx", ".ltx", ".lzh", ".lzh", ".lzx", ".lzx", ".lzx", ".m", ".m", ".m1v", ".m2a", ".m2v", ".m3u", ".man", ".map", ".mar", ".mbd", ".mc$", ".mcd", ".mcd", ".mcf", ".mcf", ".mcp", ".me", ".mht", ".mhtml", ".mid", ".mid", ".mid", ".mid", ".mid", ".mid", ".midi", ".midi", ".midi", ".midi", ".midi", ".midi", ".mif", ".mif", ".mime", ".mime", ".mjf", ".mjpg", ".mm", ".mm", ".mme", ".mod", ".mod", ".moov", ".mov", ".movie", ".mp2", ".mp2", ".mp2", ".mp2", ".mp2", ".mp3", ".mp3", ".mp3", ".mp3", ".mpa", ".mpa", ".mpc", ".mpe", ".mpeg", ".mpg", ".mpg", ".mpga", ".mpp", ".mpt", ".mpv", ".mpx", ".mrc", ".ms", ".mv", ".my", ".mzz", ".nap", ".naplps", ".nc", ".ncm", ".nif", ".niff", ".nix", ".nsc", ".nvd", ".o", ".oda", ".omc", ".omcd", ".omcr", ".p", ".p10", ".p10", ".p12", ".p12", ".p7a", ".p7c", ".p7c", ".p7m", ".p7m", ".p7r", ".p7s", ".part", ".pas", ".pbm", ".pcl", ".pcl", ".pct", ".pcx", ".pdb", ".pdf", ".pfunk", ".pfunk", ".pgm", ".pgm", ".pic", ".pict", ".pkg", ".pko", ".pl", ".pl", ".plx", ".pm", ".pm", ".pm4", ".pm5", ".png", ".pnm", ".pnm", ".pot", ".pot", ".pov", ".ppa", ".ppm", ".pps", ".pps", ".ppt", ".ppt", ".ppt", ".ppt", ".ppz", ".pre", ".prt", ".ps", ".psd", ".pvu", ".pwz", ".py", ".pyc", ".qcp", ".qd3", ".qd3d", ".qif", ".qt", ".qtc", ".qti", ".qtif", ".ra", ".ra", ".ra", ".ram", ".ras", ".ras", ".ras", ".rast", ".rexx", ".rf", ".rgb", ".rm", ".rm", ".rmi", ".rmm", ".rmp", ".rmp", ".rng", ".rng", ".rnx", ".roff", ".rp", ".rpm", ".rt", ".rt", ".rtf", ".rtf", ".rtf", ".rtx", ".rtx", ".rv", ".s", ".s3m", ".saveme", ".sbk", ".scm", ".scm", ".scm", ".scm", ".sdml", ".sdp", ".sdp", ".sdr", ".sea", ".sea", ".set", ".sgm", ".sgm", ".sgml", ".sgml", ".sh", ".sh", ".sh", ".sh", ".shar", ".shar", ".shtml", ".shtml", ".sid", ".sit", ".sit", ".skd", ".skm", ".skp", ".skt", ".sl", ".smi", ".smil", ".snd", ".snd", ".sol", ".spc", ".spc", ".spl", ".spr", ".sprite", ".src", ".ssi", ".ssm", ".sst", ".step", ".stl", ".stl", ".stl", ".stp", ".sv4cpio", ".sv4crc", ".svf", ".svf", ".svr", ".svr", ".swf", ".t", ".talk", ".tar", ".tbk", ".tbk", ".tcl", ".tcl", ".tcsh", ".tex", ".texi", ".texinfo", ".text", ".text", ".tgz", ".tgz", ".tif", ".tif", ".tiff", ".tiff", ".tr", ".tsi", ".tsp", ".tsp", ".tsv", ".turbot", ".txt", ".uil", ".uni", ".unis", ".unv", ".uri", ".uris", ".ustar", ".ustar", ".uu", ".uu", ".uue", ".vcd", ".vcs", ".vda", ".vdo", ".vew", ".viv", ".viv", ".vivo", ".vivo", ".vmd", ".vmf", ".voc", ".voc", ".vos", ".vox", ".vqe", ".vqf", ".vql", ".vrml", ".vrml", ".vrml", ".vrt", ".vsd", ".vst", ".vsw", ".w60", ".w61", ".w6w", ".wav", ".wav", ".wb1", ".wbmp", ".web", ".wiz", ".wk1", ".wmf", ".wml", ".wmlc", ".wmls", ".wmlsc", ".word", ".wp", ".wp5", ".wp5", ".wp6", ".wpd", ".wpd", ".wq1", ".wri", ".wri", ".wrl", ".wrl", ".wrl", ".wrz", ".wrz", ".wsc", ".wsrc", ".wtk", ".xbm", ".xbm", ".xbm", ".xdr", ".xgz", ".xif", ".xl", ".xla", ".xla", ".xla", ".xlb", ".xlb", ".xlb", ".xlc", ".xlc", ".xlc", ".xld", ".xld", ".xlk", ".xlk", ".xll", ".xll", ".xll", ".xlm", ".xlm", ".xlm", ".xls", ".xls", ".xls", ".xls", ".xlt", ".xlt", ".xlv", ".xlv", ".xlw", ".xlw", ".xlw", ".xlw", ".xm", ".xml", ".xml", ".xmz", ".xpix", ".xpm", ".xpm", ".x-png", ".xsr", ".xwd", ".xwd", ".xyz", ".z", ".z", ".zip", ".zip", ".zip", ".zip", ".zoo", ".zsh"]
}
{% endmacro %}